# ROADMAP_VPN

## Цели проекта

- Создать собственный VPN/Proxy сервис с упором на:
  - высокую скорость и адекватный пинг;
  - простоту подключения на Windows и iOS;
  - лёгкое восстановление при сбоях;
  - удобное управление через Telegram-бота.
- Сначала использовать для себя, друзей и коллег, затем при необходимости масштабировать до коммерческого продукта.

## Этапы развития

### Этап 0 — Подготовка

- [x] Определить название репозитория на GitHub: **`vpnservice`** (nikkronos/vpnservice).
- [x] Инициализировать отдельный Git-репозиторий в папке `VPN/` и привязать к GitHub.
- [x] Уточнить целевые регионы/провайдеров VPS:
  - **Первая нода:** существующий Timeweb-сервер (для тестирования и экономии средств);
  - **В дальнейшем:** отдельный VPS под VPN (когда будет готово и протестировано).

### Этап 1 — MVP для себя

- [x] Развернуть первую WireGuard-ноду (VPS-сервер — существующий Timeweb).
- [x] Настроить базовую конфигурацию WireGuard.
- [x] Сгенерировать конфиг/QR для владельца и протестировать:
  - [x] Windows-клиент WireGuard;
  - [x] iOS-клиент WireGuard (QR-код через qrencode).
- [x] Зафиксировать минимальные требования к скорости и пингу:
  - пинг ~10–15 мс, скорость ~91 Мбит/с вниз / ~88 Мбит/с вверх (тест на Windows).

### Этап 2 — Telegram-бот (self-service)

- [x] Создать Telegram-бота по аналогии с существующими VPN-сервисами (`@hitvpnbot`, `@barinvpn_bot`, `@avoVPN_bot`).
- [x] Реализовать команды:
  - [x] `/start` и базовая авторизация;
  - [x] `/get_config` — выдача конфигурации (через персональный `.conf`);
  - [x] `/regen` — регенерация ключа/конфига (удаление старого peer, создание нового с новыми ключами);
  - [x] `/status` — базовый статус доступа.
- [x] Связать бота с backend-логикой, управляющей WireGuard (создание peers и генерация конфигов через локальные утилиты `wg`).
- [x] Добавить поддержку нескольких пользователей (друзья, коллеги) через команды `/add_user` и `/users` (без срока окончания доступа на текущем этапе).

### Этап 3 — Надёжность и масштабирование до десятков пользователей

- [ ] Добавить ещё 1–2 VPN-ноды (разные регионы/провайдеры).
- [x] Реализовать выбор сервера в боте (основной/запасной или список регионов) — команда `/server` с inline-кнопками для выбора между РФ и EU.
- [ ] Настроить health-check:
  - [ ] мониторинг доступности нод (ping, CPU, нагрузка);
  - [ ] уведомления в отдельный тех-бот/канал при падении ноды.
- [ ] Подготовить инструкции:
  - [ ] «Как восстановить ноду за N минут»;
  - [ ] «Как перевести пользователей на другую ноду».
#### Вопросы инфраструктуры и нагрузки

- [x] Уточнены лимиты трафика у провайдера Timeweb: **базовых ограничений по трафику нет**, главное — соблюдение правил платформы (запрет незаконного контента, DDoS, спама и т.п.).
- [ ] Оценить типичный сценарий использования (сколько людей, сколько одновременно активно пользуются).
- [ ] Оценить примерный месячный трафик на одного активного пользователя (мессенджеры, видео, игры).
- [ ] Сопоставить ожидаемую суммарную нагрузку с тарифами провайдеров VPS (скорость канала, CPU/RAM при высокой нагрузке).
- [ ] Определить порог, после которого требуется выносить VPN на отдельный сервер (или добавлять вторую ноду).
- [ ] Зафиксировать стратегию масштабирования: какие планы по увеличению канала/количества нод при росте числа пользователей.

### Этап 4 — Коммерциализация (опционально)

- [ ] Спроектировать тарифы (лимиты по времени/трафику/устройствам).
- [ ] Выбрать платёжное решение (Telegram Payments, внешние провайдеры и т.п.).
- [ ] Реализовать:
  - [ ] напоминания о продлении;
  - [ ] автоматическое продление по оплате;
  - [ ] базовую аналитику (активные подписки, нагрузка на сервера).

## Ссылки и контекст

- Общий AI roadmap: `ROAD_MAP_AI.md` (раздел про VPN/Proxy сервис).
- Общие правила и паттерны: `RULES_CURSOR.md`, `docs/AGENT_PROMPTS.md`, `docs/patterns.md`.

